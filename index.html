<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Geometry Dash - –¢–ï–•–ù–ò–ö–£–ú EDITION</title>
    <script async 
        src="https://telegram.org/js/telegram-widget.js?22"
        data-telegram-login="@geometrishi_i_bot"
        data-size="large"
        data-auth-url="https://kamillllllllllllllllllll.github.io/geometry-dash/">
</script>
  <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            overflow: hidden;
            height: 100vh;
            width: 100vw;
            position: fixed;
        }
        
        #gameContainer {
            width: 100%;
            height: 100%;
            position: relative;
        }
        
        #gameCanvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: block;
            background: linear-gradient(to bottom, #0f0c29, #302b63, #24243e);
        }
        
        /* UI –ø–∞–Ω–µ–ª—å */
        #ui {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            display: flex;
            justify-content: space-between;
            padding: 15px;
            z-index: 10;
            background: linear-gradient(to bottom, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0) 100%);
        }
        
        #score, #highScore {
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 10px 20px;
            border-radius: 25px;
            font-size: 18px;
            font-weight: bold;
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        #score::before {
            content: "‚òÖ";
            color: #ffd700;
            font-size: 20px;
        }
        
        #highScore::before {
            content: "üèÜ";
            font-size: 18px;
        }
        
        /* –ú–µ–Ω—é */
        #menu {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            background: rgba(0, 0, 0, 0.9);
            z-index: 20;
            padding: 20px;
        }
        
        #startScreen {
            text-align: center;
            max-width: 500px;
            width: 90%;
        }
        
        .game-title {
            font-size: 3.5em;
            font-weight: 900;
            margin-bottom: 10px;
            background: linear-gradient(45deg, #ff0080, #ff8c00, #40e0d0);
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 30px rgba(255, 0, 128, 0.3);
        }
        
        .edition-badge {
            display: inline-block;
            background: linear-gradient(45deg, #6c5ce7, #a29bfe);
            color: white;
            padding: 8px 25px;
            border-radius: 20px;
            font-size: 1.2em;
            font-weight: bold;
            margin-bottom: 40px;
            text-transform: uppercase;
            letter-spacing: 1px;
            box-shadow: 0 5px 15px rgba(108, 92, 231, 0.4);
        }
        
        .play-button {
            background: linear-gradient(45deg, #00b894, #00cec9);
            color: white;
            border: none;
            padding: 20px 50px;
            font-size: 1.5em;
            font-weight: bold;
            border-radius: 50px;
            cursor: pointer;
            margin: 20px 0;
            transition: all 0.3s;
            box-shadow: 0 8px 25px rgba(0, 184, 148, 0.4);
            width: 100%;
            max-width: 300px;
        }
        
        .play-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 30px rgba(0, 184, 148, 0.6);
        }
        
        .play-button:active {
            transform: translateY(1px);
        }
        
        .controls {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 15px;
            margin-top: 30px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .controls p {
            margin: 10px 0;
            color: #a4b0be;
            font-size: 1.1em;
        }
        
        .controls p::before {
            content: "‚Ä¢ ";
            color: #70a1ff;
            font-size: 1.2em;
        }
        
        /* Game Over —ç–∫—Ä–∞–Ω */
        #gameOverScreen {
            text-align: center;
            background: rgba(255, 255, 255, 0.1);
            padding: 40px;
            border-radius: 20px;
            backdrop-filter: blur(20px);
            border: 2px solid rgba(255, 255, 255, 0.2);
            max-width: 500px;
            width: 90%;
        }
        
        .game-over-title {
            font-size: 2.5em;
            color: #ff4757;
            margin-bottom: 20px;
            text-shadow: 0 0 20px rgba(255, 71, 87, 0.5);
        }
        
        #finalScore {
            font-size: 2em;
            color: #ffd700;
            margin: 20px 0;
            font-weight: bold;
        }
        
        .action-button {
            background: linear-gradient(45deg, #3742fa, #5352ed);
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.1em;
            border-radius: 25px;
            cursor: pointer;
            margin: 10px;
            transition: all 0.3s;
            display: inline-block;
            min-width: 180px;
        }
        
        .action-button.restart {
            background: linear-gradient(45deg, #00b894, #00cec9);
        }
        
        .action-button.share {
            background: linear-gradient(45deg, #ff6b6b, #ff8e53);
        }
        
        /* Telegram –ø–∞–Ω–µ–ª—å */
        #telegramPanel {
            position: absolute;
            bottom: 20px;
            left: 0;
            right: 0;
            display: flex;
            justify-content: center;
            z-index: 15;
        }
        
        .telegram-card {
            background: rgba(0, 136, 204, 0.9);
            color: white;
            padding: 15px 25px;
            border-radius: 15px;
            display: flex;
            align-items: center;
            gap: 15px;
            backdrop-filter: blur(10px);
            box-shadow: 0 5px 20px rgba(0, 136, 204, 0.4);
            border: 2px solid rgba(255, 255, 255, 0.2);
        }
        
        .user-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(45deg, #667eea, #764ba2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5em;
            font-weight: bold;
        }
        
        .user-info {
            text-align: left;
        }
        
        .user-name {
            font-weight: bold;
            font-size: 1.1em;
        }
        
        .bot-link {
            font-size: 0.9em;
            opacity: 0.9;
        }
        
        /* –°–æ—Å—Ç–æ—è–Ω–∏—è */
        .hidden {
            display: none !important;
        }
        
        /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .pulse {
            animation: pulse 2s infinite;
        }
        
        /* –ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è */
        @media (max-width: 768px) {
            .game-title { font-size: 2.5em; }
            .edition-badge { font-size: 1em; padding: 6px 20px; }
            .play-button { padding: 15px 40px; font-size: 1.3em; }
            #score, #highScore { font-size: 16px; padding: 8px 15px; }
            .telegram-card { padding: 12px 20px; }
            .user-avatar { width: 40px; height: 40px; font-size: 1.2em; }
        }
        
        @media (max-width: 480px) {
            .game-title { font-size: 2em; }
            .play-button { padding: 12px 30px; font-size: 1.2em; }
            .action-button { min-width: 150px; padding: 12px 20px; }
            .controls p { font-size: 1em; }
        }
    </style>
</head>
<body>
    <div id="gameContainer">
        <canvas id="gameCanvas"></canvas>
        
        <!-- UI —Å—á—ë—Ç—á–∏–∫–∏ -->
        <div id="ui">
            <div id="score">–û—á–∫–∏: 0</div>
            <div id="highScore">–†–µ–∫–æ—Ä–¥: 0</div>
        </div>
        
        <!-- Telegram –ø–∞–Ω–µ–ª—å (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏) -->
        <div id="telegramPanel" class="hidden">
            <div class="telegram-card">
                <div class="user-avatar" id="userAvatar">–°</div>
                <div class="user-info">
                    <div class="user-name" id="userName">–°—Ç—É–¥–µ–Ω—Ç –¢–µ—Ö–Ω–∏–∫—É–º–∞</div>
                    <div class="bot-link">@geometrishLLbot</div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- –ú–µ–Ω—é -->
    <div id="menu">
        <div id="startScreen">
            <div class="game-title">Geometry Dash</div>
            <div class="edition-badge">–¢–ï–•–ù–ò–ö–£–ú EDITION</div>
            
            <button class="play-button pulse" id="startBtn">üöÄ –ù–ê–ß–ê–¢–¨ –ò–ì–†–£</button>
            
            <div class="controls">
                <p>–ö–ª–∏–∫–∞–π –¥–ª—è –ø—Ä—ã–∂–∫–∞!</p>
                <p>–ü—Ä–æ–±–µ–ª –∏–ª–∏ ‚Üë –¥–ª—è –ø—Ä—ã–∂–∫–∞</p>
            </div>
            
            <!-- –ö–Ω–æ–ø–∫–∞ Telegram –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ -->
            <div style="margin-top: 30px;">
                <button class="action-button" onclick="simulateTelegramAuth()" 
                        style="background: linear-gradient(45deg, #0088cc, #00aaff);">
                    üîê –í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Telegram
                </button>
            </div>
        </div>
        
        <div id="gameOverScreen" class="hidden">
            <div class="game-over-title">üíÄ –ò–ì–†–ê –û–ö–û–ù–ß–ï–ù–ê</div>
            <div id="finalScore">–û—á–∫–∏: 0</div>
            <button class="action-button restart" id="restartBtn">üîÑ –ò–≥—Ä–∞—Ç—å —Å–Ω–æ–≤–∞</button>
            <button class="action-button share" id="shareBtn">üì§ –ü–æ–¥–µ–ª–∏—Ç—å—Å—è</button>
        </div>
    </div>

    <script>
        // –û—Å–Ω–æ–≤–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–≥—Ä—ã
        const game = {
            score: 0,
            highScore: 0,
            isPlaying: false,
            canvas: null,
            ctx: null,
            
            init: function() {
                this.canvas = document.getElementById('gameCanvas');
                this.ctx = this.canvas.getContext('2d');
                this.setupCanvas();
                this.loadHighScore();
                this.setupEventListeners();
                
                console.log('üéÆ –ò–≥—Ä–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞');
            },
            
            setupCanvas: function() {
                const resize = () => {
                    this.canvas.width = window.innerWidth;
                    this.canvas.height = window.innerHeight;
                };
                resize();
                window.addEventListener('resize', resize);
            },
            
            loadHighScore: function() {
                const saved = localStorage.getItem('gd_highscore');
                this.highScore = saved ? parseInt(saved) : 0;
                document.getElementById('highScore').textContent = `–†–µ–∫–æ—Ä–¥: ${this.highScore}`;
            },
            
            setupEventListeners: function() {
                // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
                document.addEventListener('click', () => this.jump());
                document.addEventListener('keydown', (e) => {
                    if ((e.code === 'Space' || e.code === 'ArrowUp') && this.isPlaying) {
                        this.jump();
                    }
                });
                
                // –ö–Ω–æ–ø–∫–∏ –º–µ–Ω—é
                document.getElementById('startBtn').addEventListener('click', () => this.start());
                document.getElementById('restartBtn').addEventListener('click', () => this.restart());
                document.getElementById('shareBtn').addEventListener('click', () => this.shareScore());
            },
            
            start: function() {
                this.isPlaying = true;
                this.score = 0;
                document.getElementById('menu').classList.add('hidden');
                document.getElementById('score').textContent = `–û—á–∫–∏: ${this.score}`;
                this.gameLoop();
                
                console.log('üöÄ –ò–≥—Ä–∞ –Ω–∞—á–∞–ª–∞—Å—å');
            },
            
            jump: function() {
                if (!this.isPlaying) return;
                console.log('–ü—Ä—ã–∂–æ–∫!');
                // –ó–¥–µ—Å—å –±—É–¥–µ—Ç –ª–æ–≥–∏–∫–∞ –ø—Ä—ã–∂–∫–∞
            },
            
            gameLoop: function() {
                if (!this.isPlaying) return;
                
                // –û—á–∏—Å—Ç–∫–∞ —ç–∫—Ä–∞–Ω–∞
                this.ctx.fillStyle = '#0f0c29';
                this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);
                
                // –ó–¥–µ—Å—å –±—É–¥–µ—Ç –∏–≥—Ä–æ–≤–∞—è –ª–æ–≥–∏–∫–∞
                
                // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á—ë—Ç (–¥–µ–º–æ)
                this.score++;
                if (this.score % 10 === 0) {
                    document.getElementById('score').textContent = `–û—á–∫–∏: ${this.score}`;
                }
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —Ä–µ–∫–æ—Ä–¥
                if (this.score > this.highScore) {
                    this.highScore = this.score;
                    document.getElementById('highScore').textContent = `–†–µ–∫–æ—Ä–¥: ${this.highScore}`;
                    localStorage.setItem('gd_highscore', this.highScore);
                }
                
                // –°–ª—É—á–∞–π–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∏–≥—Ä—ã –¥–ª—è –¥–µ–º–æ
                if (Math.random() < 0.005) {
                    this.gameOver();
                    return;
                }
                
                requestAnimationFrame(() => this.gameLoop());
            },
            
            gameOver: function() {
                this.isPlaying = false;
                document.getElementById('finalScore').textContent = `–û—á–∫–∏: ${this.score}`;
                document.getElementById('menu').classList.remove('hidden');
                document.getElementById('gameOverScreen').classList.remove('hidden');
                document.getElementById('startScreen').classList.add('hidden');
                
                console.log('üíÄ –ò–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞. –°—á—ë—Ç:', this.score);
            },
            
            restart: function() {
                document.getElementById('gameOverScreen').classList.add('hidden');
                document.getElementById('startScreen').classList.remove('hidden');
                this.score = 0;
                document.getElementById('score').textContent = `–û—á–∫–∏: ${this.score}`;
            },
            
            shareScore: function() {
                const text = `üéÆ –ù–∞–±—Ä–∞–ª ${this.score} –æ—á–∫–æ–≤ –≤ Geometry Dash - –¢–ï–•–ù–ò–ö–£–ú EDITION!`;
                if (navigator.share) {
                    navigator.share({
                        title: 'Geometry Dash',
                        text: text,
                        url: window.location.href
                    });
                } else {
                    alert(text + '\n\n–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –ø–æ–¥–µ–ª–∏—Ç–µ—Å—å —Å –¥—Ä—É–∑—å—è–º–∏!');
                }
            }
        };
        
        // Telegram –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (–¥–µ–º–æ)
        function simulateTelegramAuth() {
            const user = {
                first_name: "–°—Ç—É–¥–µ–Ω—Ç",
                last_name: "–¢–µ—Ö–Ω–∏–∫—É–º–∞",
                username: "geometrish_student",
                id: Math.floor(Math.random() * 1000000)
            };
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ
            localStorage.setItem('tg_user', JSON.stringify(user));
            
            // –û–±–Ω–æ–≤–ª—è–µ–º UI
            document.getElementById('userName').textContent = `${user.first_name} ${user.last_name}`;
            document.getElementById('userAvatar').textContent = user.first_name[0];
            document.getElementById('telegramPanel').classList.remove('hidden');
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ
            alert(`‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞!\n–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, ${user.first_name} ${user.last_name}!`);
            
            console.log('üîê –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω:', user);
        }
        
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
        function checkExistingAuth() {
            const saved = localStorage.getItem('tg_user');
            if (saved) {
                try {
                    const user = JSON.parse(saved);
                    document.getElementById('userName').textContent = 
                        `${user.first_name || '–°—Ç—É–¥–µ–Ω—Ç'} ${user.last_name || '–¢–µ—Ö–Ω–∏–∫—É–º–∞'}`;
                    document.getElementById('userAvatar').textContent = 
                        (user.first_name || '–°')[0];
                    document.getElementById('telegramPanel').classList.remove('hidden');
                } catch (e) {
                    console.log('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:', e);
                }
            }
        }
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.addEventListener('load', () => {
            game.init();
            checkExistingAuth();
            console.log('‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞');
        });
        
        // –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º game –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
        window.game = game;
    </script>
</body>
</html>